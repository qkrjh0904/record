작성일 : 2020.04.03 ~ 진행중  
작성자 : 박정호

# 객체지향의 사실과 오해

## 0. 서문

> 객체지향이란 무엇인가에 대한 정확한 답은 없다. 이 질문에대한 자신만의 견해를 가지고 있는가가 중요하다.
>
> 1. 객체지향을 클래스가 아니라 객체를 바라보는 것에서 시작한다.
> 2. 객체를 독립적인 존재가 아니라 기능을 구현하기 위해 협력하는 공동체의 존재로 바라보는것이다.
> 3. 협력에 참여하는 객체들에게 얼마나 적절한 역할과 책임을 부여할 수 있느냐이다.
> 4. 앞서 설명한 개념을 프로그래밍 언어로 흐트러짐 없이 담아낼 수 있어야한다.

## 1. 협력하는 객체들의 공동체

```
객체지향 패러다임의 핵심은 자율적인 객체들의 협력이다.
```

#### 1.1. 협력하는 사람들

- 객체지향의 목표는 실세계를 모방하는것이 아니라 새로운 세계를 창조하는것이다.
- 하지만 객체지향이라는 용어에 담긴 기본 사상을 이해하는데는 실세계의 모방이라는 개념이 매우 효과적이긴 하다.
- 객체지향에서 가장 중요한 개념 세가지는 `역할`, `책임`, `협력`이다.
- 커피주문에서도 손님, 캐시어, 바리스타 사이에 `역할`과 `책임`, `협력`이 존재한다. 물론 다른 모든 일에도 존재한다.
- 일상생활의 대부분의 문제는 혼자만의 힘으로 해결하기 힘들다. 그래서 `요청`이라는것을 한다.
- 손님이 캐시어에게 커피를 주문하는 요청, 캐시어가 바리스타에게 제조를 부탁하는 요청
- `응답`역시 요청의 역방향으로 발생한다.
- `요청`과 `응답`으로 `협력`을 할 수 있게된다.
- `협력`의 성공 여부는 각 개인이 맡은 `역할`을 얼마나 잘 `이행`하는지에 달려있다.
- `역할`은 `책임`을 내포한다. `협력`에 참여하며 특정한 `역할`을 수행하는 사람들은 적합한 `책임`을 수행해야한다.
- 여러사람이 `동일한 역할`을 수행할 수 있다. 누구든 손님, 캐시어, 바리스타의 역할을 맡을 수 있다. 다시말해 `역할`은 대체가능성을 의미한다.
- `책임`을 수행하는 방법은 자율적으로 선택할 수 있다. 같은 요청이라도 바리스타에 따라 다른 커피가 나오는것처럼. 이것이 `다형성(polymorphism)`이다.
- 다시말해 `다형성`이란 `같은 역할`에 대해 `다양한 책임`이 나오는 것이다.
- 한 사람이 `동시에 여러 역할`을 할 수 있다. 회사에선 신입사원 집에서는 아들이 되는것처럼.

#### 1.2. 역할, 책임, 협력

- 사람을 `객체`로, 요청을 `메시지`로, 요청 처리 방법을 `메서드`로 바꾸면 객체지향이라는 문맥으로 옮겨질 수 있다.
- `협력`의 핵심은 특정한 `책임`을 수행하는 `역할`들 간의 연쇄적인 `요청`과 `응답`을 통해 목표를 달성하는것이다.
- Application의 기능은 더 작은 `책임`으로 분할되고 책임은 적절한 `역할`을 수행할 수 있는 `객체`에 의해 수행된다.
- `객체지향의 설계`라는 예술은 `적절한 객체에게 적절한 책임을 할당`하는것에서 시작된다.

#### 1.3. 협력 속에 사는 객체

- 객체지향 어플리케이션의 윤곽을 결정하는것은 역할, 책임, 협력이지만 실제로 협력에 참여하는 주체는 객체이다.
- 인간 세계에 사람이 없으면 아무 의미가 없는것처럼, 객체지향에 객체가 없으면 의미가 없다.
- 객체지향 어플리케이션의 아름다움을 결정하는것이 협력이라면, 협력이 얼마나 조화를 이루는지 결정하는것은 객체다. 결국 어플리케이션의 품질을 결정하는것은 객체의 품질이다.
- 1. 객체는 충분히 `협력적`이어야 한다. 전지전능한 객체란 없다. 협력적이란 말은 명령에 따라 행동하는 수동적 존재가 아닌 그저 `요청`에대한 `응답`을 하는것 뿐이다. 응답 안하는 것도, 응답 한다면 어떤 방식으로 응답할지 모두 객체 스스로 결정한다.
- 2. 객체는 `자율적`이어야한다. 스스로의 원칙에 따라 통제하여 일을하기 위해서 자율적이어야 한다.
- 객체도 인간과 동일하다. `공동의 목표(어플리케이션 동작)`를 위해 협력에 참여하지만 스스로의 결정과 판단에 따라 행동하는 자율적인 존재다.
- 바리스타가 커피만드는법을 모른다는것은 말이 안되는것 처럼, 객체가 어떤 `행동(behavior)`을 하기위한 `상태(state)`를 알지 못하는것도 말이 안된다.
- `객체의 자율성`은 객체의 `내부와 외부를 명확히 구분짓는것`으로부터 나온다. 객체의 사적인 부분은 차단하며, 외부에서 접근이 허락된 수단으로만 의사소통 해야한다. 객체는 다른 객체가 `무엇(what)`을 하는지 알 수 있지만 `어떻게(how)` 수행하는지는 알 수 없다.
- 과거의 데이터와 프로세스를 엄격하게 구분하는 개발방법과 객체지향을 구분짓는 가장 핵심적인 차이는 `데이터`와 `프로세스`를 객체에 묶어 놓음으로써 자율성을 보장하는데 있다.
- 객체끼리 의사소통 수단은 단 한가지가 있는데 이를 `메시지`라고 한다.
- 객체가 `메시지`를 처리하는 방법을 `메서드(method)`라고 한다.
- 비유하자면 커피 제조 요청이 메시지, 커피만드는 방법이 메서드이다.
- 외부요청이 무엇인지 표현하는 `메시지`와 이를 처리하는 방법인 `메서드`를 분리하는것은 `객체의 자율성`을 높이는 핵심 메커니즘이다. 이는 `캡슐화(encapsulation)`과 관련돼 있다.

#### 1.4. 객체지향의 본질

객체지향이란?

- 객체지향이란 시스템을 상호작용하는 `자율적인 객체들의 공동체`로 바라보고 이를 객체를 이용해 시스템을 분할하는 방법이다.
- 자율적인 객체란 `상태`와 `행위`를 함께 지니며 스스로 자기 자신을 책임지는 객체를 의미한다.
- 객체는 시스템의 행위를 구현하기 위해 다른 객체와 `협력`한다. 각 객체는 협력 내에서 정해진 역할을 수행하며 역할은 관련된 `책임`의 집합이다.
- 객체는 다른 객체와 협력하기 위해 `메시지`를 전송하고, 메시지를 수신한 객체는 메시지를 처리하는데 적합한 `메서드`를 자율적으로 선택한다.

```
중요한 것은 어떤 클래스가 필요한가가 아니라 어떤 객체들이 어떤 메시지를 주고받으며 협력하는가다. 훌륭한 객체지향 설계자가 되기 위해서는 코드를 담는 클래스의 관점에서 메시지를 주고받는 객체의 관점으로 사고의 중심을 전환하는것이 필요하다.

객체지향은 객체를 지향하는것이지 클래스를 지향하는것이 아니다.
```

---

## 2. 이상한 나라의 객체

```
'객체란 무엇인가'라는 본질적인 질문에 대답. 객체가 상태와 행동, 식별자를 가진 존재다.
```

---

## 3. 타입과 추상화

```
추상화는 단순화를 의미한다. 추상화는 동적인 객체들을 단순화 시켜 정적인 타입으로 갈무리하는 것이다. 타입의 개념을 이해하면 객체를 구현하기 위해 클래스를 사용하는 이유를 이해할 수 있다.
```

---

## 4. 역할, 책임, 협력

```
객체지향 설계의 가장 중요한 재료인 역할, 책임, 협력에 관한 설명.
```

---

## 5. 책임과 메시지

```
훌륭한 메시지가 훌륭한 객체지향 설계의 기반이다. 객체의 자율성과 설계의 유연성은 얼마나 훌륭한 메시지를 선택하느냐에 달려있다.
```

---

## 6. 객체 지도

```
객체지향이 구조와 기능이라는 두 가지 관점을 어떻게 조화시키는지에 관해 설명한다. 구조는 기능에 비해 변화에 더 안정적이다. 따라서 객체지향 패러다임은 객체들의 구조안에 기능을 녹임으로써 변화에 안정적인 소프트웨어를 개발 할 수 있게한다.
```

---

## 7. 함께 모으기

```
1~6장 내용을 코드로 정리한다.
```

---

## 8. 부록A

---

## 9. 추상화 기법

---

## 10. 다 읽고 나서 내가 답할 수 있어야 하는것.

1. 무엇이 객체지향의 사실이냐?

2. 무엇이 객체지향의 오해이냐?
